<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kh.redclip.faq.model.dao.FaqMapper">

	<sql id="selectFaq">
		SELECT
		  FAQ_NO faqNo,
	      QUESTION question,
	      ANSWER answer,
	      USER_ID userId,
	      FAQ_TYPE faqType	
	</sql>
	<select id="selectAll" resultType="faq">
		<include refid="selectFaq" />
	  FROM
	      TB_FAQ
	</select>
	
	<insert id="faqInsert" parameterType="faq">
		INSERT
		  INTO
		      TB_FAQ
		      (
		      FAQ_NO,
		      USER_ID,
		      QUESTION,
		      ANSWER,
		      FAQ_TYPE
		      )
		VALUES
		      (
		      SEQ_FAQ.NEXTVAL,
		      #{userId},
		      #{question},
		      #{answer},
		      #{faqType}
		      )
	</insert>
	
	<select id="selectByNo" parameterType="_int" resultType="faq">
		<include refid="selectFaq" />
		FROM
			TB_FAQ
	   WHERE
	   		FAQ_NO = #{faqNo}
	</select>
	
	<update id="update" parameterType="faq">
		UPDATE
			  TB_FAQ
		   SET
		   	  QUESTION = #{question},
		   	  ANSWER = #{answer},
		   	  FAQ_TYPE = #{faqType}
		 WHERE
		 	  FAQ_NO = #{faqNo}
		   AND
		   	  USER_ID
		  LIKE
		   	  'admin%'
	</update>
	
</mapper>